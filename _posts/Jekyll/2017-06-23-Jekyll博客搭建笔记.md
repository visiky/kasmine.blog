---
layout: post
title: Jekyll åšå®¢æ­å»ºç¬”è®°
header-img: post-bg-02.jpg
tag: []
category: Jekyll
---

<style>
.post-container img {
    width: 200px;
}
h1, h2, h3, h4 {
    margin-bottom: 30px;
}
</style>

# æ–°å»ºä¸€ä¸ª blogçš„æ–‡ä»¶å¤¹

```bash
mkdir blog
cd blog  
vi _config.yml  // åˆ›å»ºå¹¶ä¿å­˜  _config.yml æ–‡ä»¶ :wq ä¿å­˜é€€å‡º
```

# åˆ›å»ºå‡ ä¸ªå¿…è¦æ–‡ä»¶

- _includes  // åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¯é€šè¿‡ `include [filename]` å¼•ç”¨
- _layouts   // å¸ƒå±€æ–‡ä»¶ 
- _posts     // å­˜æ”¾é‡è¦åšå®¢æ–‡ç« 
- assets     // é™æ€æ–‡ä»¶


![]({{site.imgurl}}/in-post/jekyll-catalog.png)


# é…ç½® _config.yml æ–‡ä»¶

é€šè¿‡`site[variableName]`è®¿é—®è¿™äº›é…ç½®ä¿¡æ¯ï¼Œéƒ¨åˆ†å¯è¿ç§»è‡³`_data`ä¸­

ä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼Œå…¶ä»–å…·ä½“å‚ç…§[å®˜æ–¹æ–‡æ¡£ â€”â€” é…ç½®](http://jekyllcn.com/docs/configuration/)

```yml
# Site settings
author: kasmine
title: Kasmine Blog
SEOTitle: å»–æ™“å¨Ÿçš„åšå®¢ | Kasmine Blog
header-img: assets/img/home-bg.jpg
post-img: assets/img/post-bg.jpg
email: momo736929286@gmail.com
description: ""
keyword: ""
# url: "https://www.kasmine.cn"              # your host, for absolute URL
baseurl: "/kasmine.blog"  
imgurl: "/kasmine.blog/assets/img"
# baseurl: ""                             # æœ¬åœ°è°ƒè¯•ä½¿ç”¨
# imgurl: "/assets/img"

# Basic settings

# æ·»åŠ sass
# @see http://markdotto.com/2014/09/25/sass-and-jekyll/
sass: 
  sass_dir: _scss
  # style: compressed


# SNS settings
RSS: false
weibo_username:     kasmine
# zhihu_username:     kasmine
github_username:    Me-Momo
#twitter_username:  kasmine
facebook_username:  kasmineLiao
# linkedin_username:  firstname-lastname-idxxxx

# Build settings
# from 2016, 'pygments' is unsupported on GitHub Pages. Use 'rouge' for highlighting instead.
highlighter: rouge
# permalink: pretty
permalink: /:year/:month/:day/:title.html
paginate: 10
exclude: ["less","node_modules","Gruntfile.js","package.json","README.md","README.zh.md"]
anchorjs: true                          # å¦‚ä½•è®¾ç½®

# Gems
# from PR#40, to support local preview for Jekyll 3.0
gems: [jekyll-paginate]

markdown: kramdown
kramdown:
  input: GFM                            # use Github Flavored Markdown !important

# Analytics settings TODO:
# Google Analytics
ga_track_id: 'UA-89922034-1'            # Format: UA-xxxxxx-xx
# ga_domain:

# Sidebar settings
sidebar: true                           # whether or not using Sidebar.
sidebar-about-description: "è®¤çœŸå­¦ä¹  n(*â‰§â–½â‰¦*)n <br />æ‹¥æŠ±å¤§å‰ç«¯ "
sidebar-avatar: /assets/img/avatar-kasmine.jpg      # use absolute URL, seeing it's used in both `/` and `/about/`

# Catalog settings
catalog: true
```

# åˆ›å»º_includes

ä¸»è¦æ˜¯ä¸€äº›nav,footerç­‰ç­‰å…¬å…±ç»„ä»¶

- header.html
- footer.html
- nav.html
- siderbar.html

ç­‰ç­‰ï¼Œæ ¹æ®å®é™…æŠ½å–å…¬å…±éƒ¨åˆ†

# åˆ›å»º_layouts 

- default.html  //  åŸºç¡€å¸ƒå±€
- post.html     //  æ–‡ç« å¸ƒå±€
- page.html     //  é¡µé¢å¸ƒå±€

å¯æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚æ‰©å±•
 

# æ·»åŠ  anchor-jsè‡ªå®šä¹‰é”šç‚¹
 
 @see [https://www.bryanbraun.com/anchorjs/](https://www.bryanbraun.com/anchorjs/)


```js
function async(u, c) {
			var d = document,
				t = 'script',
				o = d.createElement(t),
				s = d.getElementsByTagName(t)[0];
			o.src = u;
			if (c) {
				o.addEventListener('load', function (e) {
					c(null, e);
				}, false);
			}
			s.parentNode.insertBefore(o, s);
		}
		async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
			anchors.options = {
				visible: 'always',
				placement: 'left',
				icon: 'ğŸ“ƒ  '
			};
			anchors.add('.custom-link')
		})
```


# ä½¿ç”¨ canonical URL

ä¼˜åŒ–æœç´¢å¼•æ“æœç´¢

```html
<!-- Canonical URL -->
<link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
```

The SEO benefit of rel=canonical

> Choosing a proper canonical URL for every set of similar URLs improves the SEO of your site. Because the search engine knows which version is canonical, it can count all the links towards all the different versions, as links to that single version. Setting a canonical is similar to doing a 301 redirect, but without actually redirecting.

æ¥æºï¼š [https://yoast.com/rel-canonical/](https://yoast.com/rel-canonical/)

# ä½¿ç”¨ Pygments

å®ç°ä»£ç çš„é«˜äº®

```html
<!-- Pygments Github CSS -->
<link rel="stylesheet" href="{{ "/assets/css/syntax.css" | prepend: site.baseurl }}">
```

# æ·»åŠ ç›®å½• 

ä¸»è¦åŸç†å°±æ˜¯  æŸ¥æ‰¾åšæ–‡é¡µé¢çš„ hæ ‡ç­¾ï¼Œç„¶ååŠ¨æ€æ·»åŠ  id,å¹¶æ·»åŠ ä¾§è¾¹æ  å¯¼èˆª  

@see [https://huangxuan.me/](https://huangxuan.me/)

``` html
<!-- Side Catalog -->
<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.posts-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }
    generateCatalog(".catalog-body");
    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))
    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>
```

# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°

```bash
jekyll server --port PORT // é€‰æ‹©è‡ªå·±æƒ³è¦çš„ç«¯å£
jekyll server -watch   // å®ç°jekyll å®æ—¶æ›´æ–°
```

# å…¶ä»–

## å¾…è¡¥å……æ¸…å•

- è¯„è®ºåŒºé…ç½®

å‚è€ƒï¼šè¿™ç¯‡[æ–‡ç« ](https://blog.jamespan.me/2015/04/18/goodbye-duoshuo)

## ç¬¬ä¸‰æ–¹æ’ä»¶

- jquery.tagcloud.js





















