---
layout: post
title: è£…é¥°è€…æ¨¡å¼
header-img: post-bg-02.jpg
category: è¯»ä¹¦ç¬”è®°/æ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼(Java)âœ¨âœ¨âœ¨âœ¨
---

## javascriptè®¾è®¡æ¨¡å¼ç³»åˆ—ï¼š

- [å•ä¾‹æ¨¡å¼]
- [æ¡¥æ¥æ¨¡å¼]
- [ç»„åˆæ¨¡å¼]
- [å¤–è§‚æ¨¡å¼]
- [é€‚é…å™¨æ¨¡å¼]
- [è£…é¥°è€…æ¨¡å¼]
- [å·¥å‚æ¨¡å¼]
- [ä»£ç†æ¨¡å¼]
- [è§‚å¯Ÿè€…æ¨¡å¼]
- [å‘½ä»¤æ¨¡å¼]
- [è´£ä»»é“¾æ¨¡å¼]

### è£…é¥°è€…æ¨¡å¼

æˆ‘è§‰å¾—ä¸‹ä¾‹å¯ä»¥å¾ˆå¥½çš„å¸®åŠ©æˆ‘ä»¬äº†è§£è£…é¥°æ¨¡å¼

```javascript
// baseClass
var Car = function() {
    console.log('è£…é…(assemble)ï¼šç»„å»ºè½¦æ¶ï¼Œæ·»åŠ ä¸»è¦éƒ¨ä»¶');
}

// è£…é¥°è€…ä¹Ÿéœ€è¦å®ç°è¿™äº›æ–¹æ³•ï¼Œéµå®ˆCarçš„æ¥å£
Car.prototype = {
    start: function() {
        console.log('ä¼´éšç€å¼•æ“çš„è½°é¸£å£°ï¼Œè½¦å­å‘åŠ¨äº†ï¼');
    },
    drive: function() {
        console.log('èµ°èµ·!');
    },
    getPrice: function() {
        return 11000.00;
    }
}

// ä½ éœ€è¦ä¼ é€’ä¸€ä¸ªCarï¼ˆæˆ–è€…æ˜¯CarDecoratorï¼‰æ‰èƒ½ä¸ºå®ƒæ·»åŠ åŠŸèƒ½ã€‚
var CarDecorator = function(car) {
    this.car = car;
}

// CarDecorator å®ç°ç›¸åŒçš„æ¥å£
CarDecorator.prototype = {
    start: function() {
        this.car.start();
    },
    drive: function() {
        this.car.drive();
    },
    getPrice: function() {
        return this.car.getPrice();
    }
}


var PowerLocksDecorator = function(car) {
    // è¿™æ˜¯JavaScripté‡Œè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°çš„æ–¹å¼
    CarDecorator.call(this, car);
    console.log('è£…é…ï¼šæ·»åŠ åŠ¨åŠ›é”');
}
PowerLocksDecorator.prototype = new CarDecorator();
PowerLocksDecorator.prototype.drive = function() {
    // ä½ å¯ä»¥è¿™ä¹ˆå†™
    this.car.drive();
    // æˆ–è€…ä½ å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„driveæ–¹æ³•ï¼š
    // CarDecorator.prototype.drive.call(this);
    console.log('è½¦é—¨è‡ªåŠ¨ä¸Šé”');
}

var PowerWindowsDecorator = function(car) {
    CarDecorator.call(this, car);
    console.log('è£…é…ï¼šæ·»åŠ åŠ¨åŠ›è¡¨ç›˜');
}
PowerWindowsDecorator.prototype = new CarDecorator();

var ACDecorator = function(car) {
    CarDecorator.call(this, car);
    console.log('è£…é…ï¼šæ·»åŠ ç©ºè°ƒ');
}
ACDecorator.prototype = new CarDecorator();
ACDecorator.prototype.start = function() {
    this.car.start();
    console.log('å†·é£å¹èµ·æ¥');
}

// å¼€å§‹æˆ‘ä»¬çš„æ—…ç¨‹
var car = new Car();                    // logæ‰“å° "è£…é…(assemble)ï¼šç»„å»ºè½¦æ¶ï¼Œæ·»åŠ ä¸»è¦éƒ¨ä»¶"

// ç»™è½¦è£…ä¸ŠåŠ¨åŠ›è¡¨ç›˜
car = new PowerWindowsDecorator(car);    // logæ‰“å° "è£…é…ï¼šæ·»åŠ åŠ¨åŠ›è¡¨ç›˜"

// ç°åœ¨åŠ è£…åŠ¨åŠ›é”å’Œç©ºè°ƒ
car = new PowerLocksDecorator(car);     // logæ‰“å° "è£…é…ï¼šæ·»åŠ åŠ¨åŠ›é”"
car = new ACDecorator(car);             // logæ‰“å° "è£…é…ï¼šæ·»åŠ ç©ºè°ƒ"

// è®©æˆ‘ä»¬å‘åŠ¨è¿™ä¸ªåå°å­å‡ºå»å…œå…œé£å§!
car.start(); // logæ‰“å° 'ä¼´éšç€å¼•æ“çš„è½°é¸£å£°ï¼Œè½¦å­å‘åŠ¨äº†ï¼' å’Œ 'å†·é£å¹èµ·æ¥'
car.drive(); // logæ‰“å° 'èµ°èµ·!' å’Œ 'è½¦é—¨è‡ªåŠ¨ä¸Šé”'
```








### å‚è€ƒé˜…è¯»

- [JavaScriptè®¾è®¡æ¨¡å¼ï¼šè£…é¥°è€…æ¨¡å¼](http://www.codingserf.com/index.php/2015/05/javascript-design-patterns-decorator/)    æ¨èğŸ˜Š

- [JavaScriptè®¾è®¡æ¨¡å¼ï¼šé€‚é…å™¨æ¨¡å¼](http://www.codingserf.com/index.php/2015/05/javascript-design-patterns-adapter/)    

- [JSè®¾è®¡æ¨¡å¼ï¼šé€‚é…å™¨æ¨¡å¼](https://segmentfault.com/a/1190000005166112)

